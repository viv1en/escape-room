version: "3.1"

intents:
  - greet
  - goodbye
  - guess_mates
  - talk_with_A
  - talk_with_B
  - talk_with_C
  - ask_join
  - check_location
  - go_Infirmary
  - confirm_get_punched
  - deny_get_punched
  - distract_nurse
  - check_Infirmary
  - mix_ingredient
  - go_Laundry_room
  - check_Laundry_room
  - openlockers
  - go_Kitchen
  - check_office_items
  - guess_kitchen_code
  - deal_with_food
  - go_office
  - phone_call
  - answer_son
  - go_Heli_Pad
  - deal_with_M

entities:
  - person
  - profession
  - locations
  - ingredients
  - items_in_Laundry_room
  - numbercode
  - vegetables
  - dealwithfood
  - items_in_office
  - called_person
  - answer_to_son
  - deal_M
slots:
  location_cell:
    type: bool
    initial_value: true
    mappings:
    - type: custom
  location_Infirmary:
    type: bool
    initial_value: false
    mappings:
    - type: custom
  location_Laundry_room:
    type: bool
    initial_value: false
    mappings:
    - type: custom
  location_Kitchen:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  location_office:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  location_Heli_Pad:
    type: bool
    initial_value: false
    mappings:
      - type: custom

  person:
    type: text
    initial_value: None
    mappings:
    - type: from_entity
      entity: person

  profession:
    type: text
    initial_value: None
   # influence_conversation: true
    mappings:
    - type: from_entity
      entity: profession

  select_member:
    type: bool
    initial_value: false
      # influence_conversation: true
    mappings:
      - type: custom
  kitchen_door:
    type: bool
    initial_value: false
    # influence_conversation: true
    mappings:
      - type: custom
  get_punched:
    type: bool
    initial_value: false
    # influence_conversation: true
    mappings:
      - type: from_intent
        intent: confirm_get_punched
        value: true
  nurse_away:
    type: bool
    initial_value: false
    mappings:
      - type: from_intent
        intent: distract_nurse
        value: true
  get_sedative:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  get_uniform:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  guards_fainted:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  phone_ready:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  phone_son:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  get_helicopter:
   type: bool
   initial_value: false
   mappings:
     - type: custom
responses:
  utter_greet:
  - text: "You wake up groggy and dehydrated. This has been your morning for the last few months. Wiping the sleep from your eyes, you find yourself yet again in the prison cell the guards threw you in months ago. Three other men are in the room with you. During all the days you have spent together here, they haven’t given you their real names, so you just refer to them as A,B and C. One is reading, while the other one stares at a crossword puzzle. The third one is sleeping and snoring loudly. 
You swore yourself to find a way out of this place and have been cooking up an escape plan. You know it won’t be easy and that you won’t make it out on your own, but who can you trust inside these walls? You have considered asking your inmates for help, but haven’t decided if thats a wise decision. It’s time to get going. What should you do next?.
 Talking to your cellmates seems like a good start. They have been here longer than you have and might mention something that could be useful for your escape..."
  utter_A_riddles:
  - text: "A: Hello new inmate. We can be friends if you guess the profession I had before being incarcerated.'I wear a uniform, stern and tough, In this cell block, I've seen enough. Keys and bars are part of my day, Maintaining order, come what may'.
Who am I?"
  utter_B_riddles:
  - text: "B: Whatsup new fish ? If you want to talk with me you need to guess my profession at first. 'In this place, I clean and sweep, No task too dirty, no mess too deep. From mopping floors to taking out trash, My role is crucial, in every clash.'
Who am I?"
  utter_C_riddles:
  - text: "C: Hello cellmate wanna guess my profession as well? Here is a riddle that would help you. 'I take to the skies, high and wide, A captain of the clouds, I glide. Navigating planes with skill and grace, Traversing borders, from place to place.'
Who am I?"
  utter_mate_ratted:
  - text: "You made the wrong decision. All inmates heard your escape plan and the ones you didn't recruit ratted you out for a reduced sentence."
  utter_goodbye:
  - text: "Bye"
  utter_mateb_punch:
  - text: 'Cellmates: There is no way you can just walk into the infirmery you are in a prison after all. Well at least not when you look healthy. There is a way to get you there quickly but it will hurt... One of us will punch you really hard to the point that the guards will have no choice but to take you to the infirmery to patch you up. So do you wanna do it ?'
  utter_able_check_inf:
  - text: "You are now alone in the infirmary, you can look around and do what you want. But you gotta do it fast cause the nurse might come back at any time!"
actions:
  - check_guess
  - check_asked_mates
  - show_collection
  - access_infirmary
  - able_check_infirmary
  - get_sedative
  - show_Laundry_room
  - show_locker_puzzles_or_other_unuseful_items
  - vertification_locker_puzzles
  - show_Kitchen_code
  - vertification_Kitchen_food
  - vertification_Kitchens_code_and_show_kitchen_items
  - vertification_guards_fainted_and_show_office_or_getcaught
  - show_phone_or_other_unuseful_items
  - vertification_call_with_npc_child_for_helicopter_and_show_puzzles
  - check_answer_to_son
  - vertification_go_helipad
  - ending
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
config:
  store_entities_as_slots: true
