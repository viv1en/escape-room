version: "3.1"

intents:
  - greet
  - goodbye
  - guess_mates
  - talk_with_A
  - talk_with_B
  - talk_with_C
  - ask_join
  - check_location
  - go_Infirmary
  - confirm_get_punched
  - deny_get_punched
  - distract_nurse
  - check_Infirmary
  - mix_ingredient
  - go_Laundry_room
  - check_Laundry_room
  - openlockers
  - go_Kitchen
  - check_office_items
  - guess_kitchen_code
  - deal_with_food
  - go_office
  - phone_call
  - answer_son
  - go_Heli_Pad
  - deal_with_M
  - restart

entities:
  - person
  - profession
  - locations
  - ingredients
  - items_in_Laundry_room
  - numbercode
  - vegetables
  - dealwithfood
  - items_in_office
  - called_person
  - answer_to_son
  - deal_M
  - all

slots:
  guess_a:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  guess_b:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  guess_c:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  location_cell:
    type: bool
    initial_value: true
    mappings:
    - type: custom
  location_Infirmary:
    type: bool
    initial_value: false
    mappings:
    - type: custom
  location_Laundry_room:
    type: bool
    initial_value: false
    mappings:
    - type: custom
  location_Kitchen:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  location_office:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  location_Heli_Pad:
    type: bool
    initial_value: false
    mappings:
      - type: custom

  person:
    type: text
    initial_value: None
    mappings:
    - type: from_entity
      entity: person

  profession:
    type: text
    initial_value: None
   # influence_conversation: true
    mappings:
    - type: from_entity
      entity: profession

  select_member:
    type: bool
    initial_value: false
      # influence_conversation: true
    mappings:
      - type: custom
  kitchen_door:
    type: bool
    initial_value: false
    # influence_conversation: true
    mappings:
      - type: custom
  get_punched:
    type: bool
    initial_value: false
    # influence_conversation: true
    mappings:
      - type: from_intent
        intent: confirm_get_punched
        value: true
  nurse_away:
    type: bool
    initial_value: false
    mappings:
      - type: from_intent
        intent: distract_nurse
        value: true
  get_sedative:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  get_uniform:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  guards_fainted:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  phone_ready:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  phone_son:
    type: bool
    initial_value: false
    mappings:
      - type: custom
  get_helicopter:
   type: bool
   initial_value: false
   mappings:
     - type: custom
responses:
  utter_greet:
  - text: "Waking up groggy and dehydrated, you find yourself stuck in the same old prison cell  üîí. Alongside you are your three mysterious cellmates who go by the names of <b style='color: MidnightBlue;'>Jailer Jake, Mr. Clean,</b> and <b style='color: MidnightBlue;'>Maverick</b> (or so you call them)</b>.
<br>You swore yourself to find a way out of this place and have been cooking up an escape plan. You know it won‚Äôt be easy and that you won‚Äôt make it out on your own, but who can you trust inside these walls?
 <b> Talking to your cellmates seems like a good start.</b> They have been here longer than you have and might mention something that could be useful for your escape...üëÄ"
  utter_C_riddles:
  - text: "<b style='color: MidnightBlue;'>üó£Ô∏è Jailer Jake üó£Ô∏è</b>: <ul style='list-style-type:none;'> Hello, new inmate. We can be friends if you guess the profession I had before being incarcerated.<br><i style='color: Indigo;'>'I wear a uniform, stern and tough, In this cell block, I've seen enough. Keys and bars are part of my day, Maintaining order, come what may üóùÔ∏è.' </i> </ul>"
  utter_B_riddles:
  - text: "<b style='color: MidnightBlue;'>üó£Ô∏è Mr.Clean üó£Ô∏è</b>: <ul style='list-style-type:none;'> Whatsup, new fish ? If you want to talk with me you need to guess my profession at first. <i style='color: Indigo;'>'In this place, I clean and sweep, No task too dirty, no mess too deep. From mopping floors to taking out trash, My role is crucial, in every clash üßπ.'
</ul></i>"
  utter_A_riddles:
  - text: "<b style='color: MidnightBlue;'>üó£Ô∏è Maverick üó£Ô∏è</b>: <ul style='list-style-type:none;'> Hello cellmate wanna guess my profession as well? Here is a riddle that would help you. <br><i style='color: Indigo;'>'I take to the skies, high and wide, A captain of the clouds, I glide. Navigating planes with skill and grace, Traversing borders, from place to place ‚úàÔ∏è.'
</ul></i>"
  utter_mate_ratted:
  - text: "<h1>You made the wrong decision ‚ùå.</h1> All inmates heard your escape plan and the ones you didn't recruit ratted you out for a reduced sentence!"
  utter_goodbye:
  - text: "Bye"
  utter_mateb_punch:
  - text: "<b style='color: MidnightBlue;'>üó£Ô∏è Maverick üó£Ô∏è</b>: <ul style='list-style-type:none;'> No easy walk into the infirmary, my friend. We're in a prison after all! But we could fast-track you there by giving you a good ol' punch üëä. Once the guards see you all battered, they'll rush you there for patching up. Ready to take one for the team? üòÖ"
  utter_able_check_inf:
  - text: "You are now alone in the infirmary, you can look around and do what you want üîç. But you gotta do it <b>fast</b> cause the nurse might come back at any time!"
actions:
  - action_check_guess
  - action_check_asked_mates
  - action_show_collection
  - action_access_infirmary
  - action_able_check_infirmary
  - action_get_sedative
  - action_show_Laundry_room
  - action_show_locker_puzzles_or_other_unuseful_items
  - action_vertification_locker_puzzles
  - action_in_kitchen
 # - action_show_Kitchen_codes
  #- action_vertification_Kitchen_food
  #- action_vertification_Kitchens_code_and_show_kitchen_items
  - action_vertification_guards_fainted_and_show_office_or_getcaught
  - action_show_phone_or_other_unuseful_items
  - action_vertification_call_with_npc_child_for_helicopter_and_show_puzzles
  - action_check_answer_to_son
  - action_vertification_go_helipad
  - action_ending
  - action_restartd
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
config:
  store_entities_as_slots: true
